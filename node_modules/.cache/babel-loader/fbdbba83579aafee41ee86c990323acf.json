{"ast":null,"code":"import _objectSpread from \"/Users/yylslolz/Documents/WebProg2019/Practice06/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/Users/yylslolz/Documents/WebProg2019/Practice06/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/yylslolz/Documents/WebProg2019/Practice06/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/yylslolz/Documents/WebProg2019/Practice06/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/yylslolz/Documents/WebProg2019/Practice06/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/yylslolz/Documents/WebProg2019/Practice06/own/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/yylslolz/Documents/WebProg2019/Practice06/own/src/component/Collection/Collection.jsx\";\nimport React, { PureComponent, Fragment } from 'react';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport Radium from 'radium';\nimport './Collection.css';\nvar appear = Radium.keyframes({\n  '0%': {\n    opacity: 0\n  },\n  '100%': {\n    opacity: 1\n  }\n}, 'pulse');\nvar appearVideo = Radium.keyframes({\n  '0%': {\n    opacity: 0\n  },\n  '90%': {\n    opacity: 0\n  },\n  '100%': {\n    opacity: 0.1\n  }\n}, 'pulse');\nvar styles = {\n  wrapper: {\n    height: '100%',\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    padding: ' 200px 0 0 0',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  h1: {\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  backgroundVideo: {\n    position: 'fixed',\n    minWidth: '100%',\n    minHeight: '100%',\n    margin: 0,\n    padding: 0,\n    left: 0,\n    bottom: 0,\n    zIndex: -1,\n    filter: 'grayscale(80%)',\n    animationName: appearVideo,\n    animationDuration: '4000ms',\n    animationFillMode: 'forwards'\n  },\n  timelineHeader: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    flexDirection: 'column',\n    justifyContent: 'initial',\n    alignItems: 'center',\n    margin: '0 0 80px 0',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  timeline: {\n    display: 'flex',\n    margin: '0 auto',\n    flexWrap: 'wrap',\n    flexDirection: 'column',\n    maxWidth: 700,\n    position: 'relative',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  line: {\n    position: 'absolute',\n    left: '50%',\n    width: 2,\n    height: '100%',\n    marginLeft: -1,\n    backgroundColor: 'black',\n    //shoudchange\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  timelineItem: {\n    padding: '40px 0',\n    opacity: '.3',\n    filter: 'blur(2px)',\n    transition: '.5s',\n    boxSizing: 'border-box',\n    width: 'calc(50% - 36px)',\n    display: 'flex',\n    position: 'relative',\n    transform: 'translateY(-80px)',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  timelineImg: {\n    maxWidth: '100%',\n    boxShadow: '0 10px 15px rgba(0, 0, 0, 0.4)'\n  },\n  timelineTitle: {\n    letterSpacing: 3,\n    width: '100%',\n    position: 'absolute',\n    color: 'black',\n    //should change rgba(255, 255, 255, 0.5)\n    fontSize: 13,\n    fontFamily: '\"Pathway Gothic One\", sans-serif',\n    borderLeft: '2px solid rgba(255, 255, 255, 0.5)',\n    top: '70%',\n    margin: '-5px 0 0 0',\n    padding: '0 0 0 15px',\n    opacity: 0,\n    right: 'calc(-100% - 56px)',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  timelineTitle__active: {\n    top: '50%',\n    transition: '.3s all .2s',\n    opacity: 1\n  },\n  timelineContentTitle: {\n    fontSize: 66,\n    margin: '-10px 0 0 0',\n    transition: '.4s',\n    padding: '0 10px',\n    boxSizing: 'border-box',\n    fontFamily: '\"Pathway Gothic One\", sans-serif',\n    color: '#fff',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards'\n  },\n  timelineItem__active: {\n    opacity: 1,\n    transform: 'translateY(0)',\n    filter: 'blur(0px)'\n  },\n  youtubePlayer: {\n    position: 'absolute',\n    zIndex: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    overflow: 'hidden',\n    opacity: 1,\n    userSelect: 'none',\n    marginTop: 0,\n    marginLeft: -333,\n    maxWidth: 'initial',\n    transitionProperty: 'opacity',\n    transitionDuration: '1000ms'\n  }\n};\n\nvar Collection =\n/*#__PURE__*/\nfunction (_PureComponent) {\n  _inherits(Collection, _PureComponent);\n\n  function Collection(props) {\n    var _this;\n\n    _classCallCheck(this, Collection);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Collection).call(this, props));\n    _this.state = {\n      changeVideo: false,\n      items: [],\n      video: ''\n    };\n    return _this;\n  }\n\n  _createClass(Collection, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.node.scrollIntoView();\n      fetch(\"http://localhost:3001\").then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        console.log(\"data: \", data);\n\n        _this2.setState({\n          items: data\n        });\n      }).then(function () {\n        _this2.setState({\n          video: _this2.state.items[0].link\n        });\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this3 = this;\n\n      window.onscroll = function () {\n        // 應該有更好的寫法 ＱＡＱ\n        var k = 0;\n\n        for (var i = 0; i < _this3.state.items.length; i++) {\n          if (window.pageYOffset > 650 * i) {\n            k = i;\n          }\n        }\n\n        _this3.setState({\n          video: _this3.state.items[k].link\n        });\n      };\n\n      if (this.state.video !== prevState.video) {\n        console.log('song la');\n        this.setState({\n          changeVideo: !this.state.changeVideo\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          changeVideo = _this$state.changeVideo,\n          items = _this$state.items,\n          video = _this$state.video;\n      console.log('changeVideo', changeVideo);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        ref: function ref(node) {\n          return _this4.node = node;\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: styles.wrapper,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 214\n        },\n        __self: this\n      }, changeVideo && React.createElement(\"iframe\", {\n        style: styles.backgroundVideo,\n        width: \"560\",\n        height: \"315\",\n        src: video,\n        frameBorder: \"0\",\n        allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n        allowFullScreen: true,\n        title: \"Youtube Player\",\n        unselectable: \"on\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }), !changeVideo && React.createElement(\"iframe\", {\n        style: styles.backgroundVideo,\n        width: \"560\",\n        height: \"315\",\n        src: video,\n        frameBorder: \"0\",\n        allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n        allowFullScreen: true,\n        title: \"Youtube Player\",\n        unselectable: \"on\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: styles.timelineHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 237\n        },\n        __self: this\n      }, \"\\u5F9E 2017 \\u5E74\\u8D77\\uFF0C\\u7D00\\u9304\\u4E00\\u4E9B\\u6211\\u66FE\\u505A\\u904E\\u7684\\u4E8B\\u3002\")), React.createElement(\"div\", {\n        style: styles.timeline,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 239\n        },\n        __self: this\n      }, items.map(function (item) {\n        return React.createElement(\"div\", {\n          style: styles.timeline,\n          key: item.id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: styles.line,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 243\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          style: _objectSpread({}, styles.timelineItem, styles.timelineItem__active),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 244\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          style: _objectSpread({}, styles.timelineTitle, styles.timelineTitle__active),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 247\n          },\n          __self: this\n        }, item.name), React.createElement(\"div\", {\n          style: styles.timelineContent,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, React.createElement(LazyLoadImage, {\n          style: styles.timelineImg,\n          alt: item.name,\n          src: item.img,\n          effect: \"blur\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251\n          },\n          __self: this\n        }), React.createElement(\"h2\", {\n          style: styles.timelineContentTitle,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, item.date), React.createElement(\"p\", {\n          style: styles.timelineContentDesc,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 257\n          },\n          __self: this\n        }, item.content))));\n      }))));\n    }\n  }]);\n\n  return Collection;\n}(PureComponent);\n\nexport default Radium(Collection);","map":{"version":3,"sources":["/Users/yylslolz/Documents/WebProg2019/Practice06/own/src/component/Collection/Collection.jsx"],"names":["React","PureComponent","Fragment","LazyLoadImage","Radium","appear","keyframes","opacity","appearVideo","styles","wrapper","height","width","display","flexDirection","padding","animationName","animationDuration","animationFillMode","h1","backgroundVideo","position","minWidth","minHeight","margin","left","bottom","zIndex","filter","timelineHeader","justifyContent","alignItems","timeline","flexWrap","maxWidth","line","marginLeft","backgroundColor","timelineItem","transition","boxSizing","transform","timelineImg","boxShadow","timelineTitle","letterSpacing","color","fontSize","fontFamily","borderLeft","top","right","timelineTitle__active","timelineContentTitle","timelineItem__active","youtubePlayer","overflow","userSelect","marginTop","transitionProperty","transitionDuration","Collection","props","state","changeVideo","items","video","node","scrollIntoView","fetch","then","res","json","data","console","log","setState","link","prevProps","prevState","window","onscroll","k","i","length","pageYOffset","map","item","id","name","timelineContent","img","date","timelineContentDesc","content"],"mappings":"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","sourcesContent":["import React, { PureComponent, Fragment } from 'react';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport Radium from 'radium';\nimport './Collection.css';\n\nconst appear = Radium.keyframes({\n  '0%': {opacity: 0},\n  '100%': {opacity: 1},\n}, 'pulse');\n\nconst appearVideo = Radium.keyframes({\n  '0%': {opacity: 0},\n  '90%': {opacity: 0},\n  '100%': {opacity: 0.1},\n}, 'pulse');\n\n\nconst styles = {\n  wrapper:{\n    height: '100%',\n    width: '100%',\n    display: 'flex',\n    flexDirection: 'column',\n    padding:' 200px 0 0 0',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  h1:{\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  backgroundVideo: {\n    position: 'fixed',\n    minWidth: '100%',\n    minHeight: '100%',\n    margin: 0,\n    padding: 0,\n    left: 0,\n    bottom: 0,\n    zIndex: -1,\n    filter: 'grayscale(80%)',\n    animationName: appearVideo,\n    animationDuration: '4000ms',\n    animationFillMode: 'forwards',\n  },\n  timelineHeader: {\n    display: 'flex',\n    height: '100%',\n    width: '100%',\n    flexDirection: 'column',\n    justifyContent: 'initial',\n    alignItems: 'center',\n    margin: '0 0 80px 0',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  timeline: {\n    display: 'flex',\n    margin: '0 auto',\n    flexWrap: 'wrap',\n    flexDirection: 'column',\n    maxWidth: 700,\n    position: 'relative',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  line: {\n    position: 'absolute',\n    left: '50%',\n    width: 2,\n    height: '100%',\n    marginLeft: -1,\n    backgroundColor: 'black', //shoudchange\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  timelineItem: {\n    padding: '40px 0',\n    opacity: '.3',\n    filter: 'blur(2px)',\n    transition: '.5s',\n    boxSizing: 'border-box',\n    width: 'calc(50% - 36px)',\n    display: 'flex',\n    position: 'relative',\n    transform: 'translateY(-80px)',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  timelineImg: {\n    maxWidth: '100%',\n    boxShadow: '0 10px 15px rgba(0, 0, 0, 0.4)',\n  },\n  timelineTitle: {\n    letterSpacing: 3,\n    width: '100%',\n    position: 'absolute',\n    color: 'black', //should change rgba(255, 255, 255, 0.5)\n    fontSize: 13,\n    fontFamily: '\"Pathway Gothic One\", sans-serif',\n    borderLeft: '2px solid rgba(255, 255, 255, 0.5)',\n    top: '70%',\n    margin: '-5px 0 0 0',\n    padding: '0 0 0 15px',\n    opacity: 0,\n    right: 'calc(-100% - 56px)',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  timelineTitle__active: {\n    top: '50%',\n    transition: '.3s all .2s',\n    opacity: 1,\n  },\n  timelineContentTitle: {\n    fontSize: 66,\n    margin: '-10px 0 0 0',\n    transition: '.4s',\n    padding: '0 10px',\n    boxSizing: 'border-box',\n    fontFamily: '\"Pathway Gothic One\", sans-serif',\n    color: '#fff',\n    animationName: appear,\n    animationDuration: '1s',\n    animationFillMode: 'forwards',\n  },\n  timelineItem__active: {\n    opacity: 1,\n    transform: 'translateY(0)',\n    filter: 'blur(0px)',\n  },\n  youtubePlayer: {\n    position: 'absolute',\n    zIndex: 0,\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n    overflow: 'hidden',\n    opacity: 1,\n    userSelect: 'none',\n    marginTop: 0,\n    marginLeft: -333,\n    maxWidth: 'initial',\n    transitionProperty: 'opacity',\n    transitionDuration: '1000ms',\n  }\n};\n\nclass Collection extends PureComponent {\n  constructor(props){\n    super(props)\n    this.state = {\n      changeVideo: false,\n      items: [],\n      video: '',\n    }\n  }\n\n  componentDidMount(){\n    this.node.scrollIntoView();\n\n    fetch(\"http://localhost:3001\")\n      .then(res => res.json())\n      .then(data => {\n        console.log(\"data: \", data)\n        this.setState({\n          items: data,\n        })\n      })\n      .then(() => {\n        this.setState({\n          video: this.state.items[0].link\n        })\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    window.onscroll = () => {\n      // 應該有更好的寫法 ＱＡＱ\n      let k = 0\n      for( let i = 0; i < this.state.items.length; i++){\n        if (window.pageYOffset > 650*i) {\n          k = i\n        }\n      }\n      this.setState({\n        video: this.state.items[k].link,\n      })\n    }\n\n    if (this.state.video !== prevState.video) {\n      console.log('song la')\n      this.setState({\n        changeVideo: !this.state.changeVideo,\n      })\n    }\n  }\n\n  render() {\n    const { changeVideo, items, video } = this.state;\n    console.log('changeVideo', changeVideo)\n    return (\n      <Fragment>\n        <div ref={node => this.node = node} />\n        <div style={styles.wrapper}>\n          {/* 應該有更好的寫法嗚嗚  */}\n          {changeVideo && <iframe\n              style={styles.backgroundVideo}\n              width=\"560\"\n              height=\"315\"\n              src={video}\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n              title=\"Youtube Player\"\n              unselectable=\"on\" />}\n          {!changeVideo && <iframe\n            style={styles.backgroundVideo}\n            width=\"560\"\n            height=\"315\"\n            src={video}\n            frameBorder=\"0\"\n            allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n            allowFullScreen\n            title=\"Youtube Player\"\n            unselectable=\"on\" />}\n          <div style={styles.timelineHeader}>\n            <h3>從 2017 年起，紀錄一些我曾做過的事。</h3>\n          </div>\n          <div style={styles.timeline}>\n            {items.map(item => {\n              return (\n                <div style={styles.timeline} key={item.id}>\n                  <div style={styles.line} />\n                  <div style={{\n                    ...styles.timelineItem,\n                    ...styles.timelineItem__active}}>\n                    <div style={{\n                      ...styles.timelineTitle,\n                      ...styles.timelineTitle__active}}>{item.name}</div>\n                    <div style={styles.timelineContent}>\n                      <LazyLoadImage\n                        style={styles.timelineImg}\n                        alt={item.name}\n                        src={item.img}\n                        effect=\"blur\" />\n                      <h2 style={styles.timelineContentTitle}>{item.date}</h2>\n                      <p style={styles.timelineContentDesc}>{item.content}</p>\n                    </div>\n                  </div>\n                </div>\n              )\n            })}\n          </div>\n        </div>\n      </Fragment>\n    )\n  }\n}\n\nexport default Radium(Collection)\n"]},"metadata":{},"sourceType":"module"}